# controlnaya2
Контрольная работа 2

Задание 1
<img width="1877" height="844" alt="изображение" src="https://github.com/user-attachments/assets/2a736861-5335-492c-bf91-ba49c78fbe49" />

<img width="1917" height="846" alt="изображение" src="https://github.com/user-attachments/assets/7e0a3892-6c59-4fb0-b7ae-8646d904ca9b" />

1. Что такое SQL-инъекция?
Это кибератака, направленная на уязвимые веб-приложения. Её суть заключается в том, чтобы обманом заставить приложение выполнить произвольные команды в своей базе данных. Атакующий добивается этого, подменяя или дополняя исходные SQL-запросы, которые приложение отправляет для обработки данных (например, для проверки логина и пароля).

2. Почему ввод строки ' or 1=1;-- позволил войти?
Эта строка искусственно меняет логику запроса на сервере:

· ' — закрывает строковый параметр для логина.
· or 1=1 — добавляет условие «ИЛИ 1=1», которое всегда является истинным. Это делает всё условие проверки логина и пароля верным независимо от реальных данных.
· ;-- — символ ; завершает команду, а -- превращает всё, что было в исходном запросе после (например, AND password = '...'), в комментарий, который база данных игнорирует.
  В результате запрос возвращает первую запись из таблицы пользователей (часто администратора), и система ошибочно считает аутентификацию успешной.

3. Как защитить ресурс?

· Параметризованные запросы (Prepared Statements) — самый эффективный метод. Этот подход строго разделяет код запроса и передаваемые в него данные, не позволяя данным интерпретироваться как команды.
· Валидация и санация ввода — проверка и очистка всех данных, поступающих от пользователя.
· Принцип наименьших привилегий — учётная запись приложения в базе данных должна иметь только минимально необходимые права (например, только на выборку данных, но не на их удаление или изменение структуры таблиц).

---

Задание 2

1. Логин: admin@juice-sh.op
2. Хэш пароля (MD5): 0192023a7bbd73250516f069df18b500
3. Расшифрованный пароль: admin123

4. Что такое cookie?
Cookie (куки) — это небольшой текстовый файл с данными, который веб-сервер передаёт и сохраняет в браузере пользователя. При каждом последующем обращении к тому же сайту браузер автоматически отправляет эти данные обратно на сервер. Это позволяет сайту «помнить» пользователя (его сессию, настройки, содержимое корзины и т.д.).

5. Меры защиты для cookie:

· Не хранить критичные данные (пароли, хэши, ключи доступа) непосредственно в куках на стороне клиента.
· Использовать флаг HttpOnly — он делает куку недоступной для JavaScript, что защищает от краж через XSS-атаки.
· Использовать флаг Secure — он гарантирует, что кука будет передаваться только по защищённому протоколу HTTPS.
· Обязательно использовать HTTPS для шифрования всего трафика, включая передаваемые куки.

---

Задание 3
<img width="1919" height="1045" alt="изображение" src="https://github.com/user-attachments/assets/8cea35fb-f723-454e-828d-5fb62091a3e9" />

1. Наименование параметра: bid (хранится в Session Storage браузера).

2. Рекомендации по защите:
Основная уязвимость — недостаточный контроль доступа на стороне сервера. Приложение слепо доверяет идентификатору (bid), который ему передаёт клиент.
Правильное решение: Перед выполнением любой операции с корзиной (просмотр, изменение, оформление) серверное приложение обязано самостоятельно проверить:

1. Авторизован ли текущий пользователь.
2. Принадлежит ли корзина с запрошенным ID (bid) именно этому авторизованному пользователю.
   Только после такой внутренней проверки сервер должен разрешить доступ к данным. Данные от клиента (включая параметры из Session Storage) никогда нельзя использовать для определения прав доступа без дополнительной верификации.

Задание 4
<img width="1280" height="502" alt="изображение" src="https://github.com/user-attachments/assets/8de0932e-db33-433e-8ba4-d74981ec7c21" />
