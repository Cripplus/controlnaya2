# controlnaya2
Контрольная работа 2

Задание 1
https://private-user-images.githubusercontent.com/118944177/523950637-06a0033a-3e2e-4f27-989a-21b91a77146b.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjUyODYxMjIsIm5iZiI6MTc2NTI4NTgyMiwicGF0aCI6Ii8xMTg5NDQxNzcvNTIzOTUwNjM3LTA2YTAwMzNhLTNlMmUtNGYyNy05ODlhLTIxYjkxYTc3MTQ2Yi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUxMjA5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MTIwOVQxMzEwMjJaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0zNDNiMGJhNTIyODRlNGM3ODAyYmQ3MWQ1NjJkMmU1ZjAzZmY2NTViNDIyM2YwNzhlZTVkY2E4YmNlZmMyNGE0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.KYfQMzvv9F5TnWrF2EGhphHKyCdZlF4rSaIbFY7o6XE
<img width="1917" height="846" alt="изображение" src="https://github.com/user-attachments/assets/7e0a3892-6c59-4fb0-b7ae-8646d904ca9b" />

1. Что такое SQL-инъекция?
Это кибератака, направленная на уязвимые веб-приложения. Её суть заключается в том, чтобы обманом заставить приложение выполнить произвольные команды в своей базе данных. Атакующий добивается этого, подменяя или дополняя исходные SQL-запросы, которые приложение отправляет для обработки данных (например, для проверки логина и пароля).

2. Почему ввод строки ' or 1=1;-- позволил войти?
Эта строка искусственно меняет логику запроса на сервере:

· ' — закрывает строковый параметр для логина.
· or 1=1 — добавляет условие «ИЛИ 1=1», которое всегда является истинным. Это делает всё условие проверки логина и пароля верным независимо от реальных данных.
· ;-- — символ ; завершает команду, а -- превращает всё, что было в исходном запросе после (например, AND password = '...'), в комментарий, который база данных игнорирует.
  В результате запрос возвращает первую запись из таблицы пользователей (часто администратора), и система ошибочно считает аутентификацию успешной.

3. Как защитить ресурс?

· Параметризованные запросы (Prepared Statements) — самый эффективный метод. Этот подход строго разделяет код запроса и передаваемые в него данные, не позволяя данным интерпретироваться как команды.
· Валидация и санация ввода — проверка и очистка всех данных, поступающих от пользователя.
· Принцип наименьших привилегий — учётная запись приложения в базе данных должна иметь только минимально необходимые права (например, только на выборку данных, но не на их удаление или изменение структуры таблиц).

---

Задание 2

1. Логин: admin@juice-sh.op
2. Хэш пароля (MD5): 0192023a7bbd73250516f069df18b500
3. Расшифрованный пароль: admin123

4. Что такое cookie?
Cookie (куки) — это небольшой текстовый файл с данными, который веб-сервер передаёт и сохраняет в браузере пользователя. При каждом последующем обращении к тому же сайту браузер автоматически отправляет эти данные обратно на сервер. Это позволяет сайту «помнить» пользователя (его сессию, настройки, содержимое корзины и т.д.).

5. Меры защиты для cookie:

· Не хранить критичные данные (пароли, хэши, ключи доступа) непосредственно в куках на стороне клиента.
· Использовать флаг HttpOnly — он делает куку недоступной для JavaScript, что защищает от краж через XSS-атаки.
· Использовать флаг Secure — он гарантирует, что кука будет передаваться только по защищённому протоколу HTTPS.
· Обязательно использовать HTTPS для шифрования всего трафика, включая передаваемые куки.

---

Задание 3

1. Наименование параметра: bid (хранится в Session Storage браузера).

2. Рекомендации по защите:
Основная уязвимость — недостаточный контроль доступа на стороне сервера. Приложение слепо доверяет идентификатору (bid), который ему передаёт клиент.
Правильное решение: Перед выполнением любой операции с корзиной (просмотр, изменение, оформление) серверное приложение обязано самостоятельно проверить:

1. Авторизован ли текущий пользователь.
2. Принадлежит ли корзина с запрошенным ID (bid) именно этому авторизованному пользователю.
   Только после такой внутренней проверки сервер должен разрешить доступ к данным. Данные от клиента (включая параметры из Session Storage) никогда нельзя использовать для определения прав доступа без дополнительной верификации.
